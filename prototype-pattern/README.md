### 原型模式（prototype-pattern）

#### 概念

&emsp;原型实例指定创建对象的种类，通过拷贝（克隆）原型对象创建新的对象。调用者不需要知道创建的细节，也不需要调用构造函数。

&emsp;属于创建型模式。

#### 适用场景

1. 类初始化时消耗的资源比较多；

2. 通过`new`对象方式创建的过程十分繁琐（数据准备，访问权限等）；
3. 构造函数十分复杂；
4. 循环体中产生大量对象时。

#### 使用案例

1. `BeanUtils`
2. `JSON#parseObject()`
3. `guava`提供的工具类
4. `ArrayList`实现了`cloneable`接口，克隆集合时，就是将集合里的元素一个个迭代，再实现赋值。

#### 总结

&emsp;原型模式就是如何快速构建对象的方法总结，利用`JDK`提供的`cloneable`接口实现快速复制。

&emsp;对比简单工厂模式：简单工厂是将`getter`和`setter`封装到某个方法中。

&emsp;对比单例模式：单例模式要求全局只有一个对象，而原型模式要实现对象的拷贝，两者从某种程度上来说是冲突的。

&emsp;如果原型对象本身是单例的，为了避免单例被破坏，原型对象需要实现`cloneable`接口，重写`clone()`方法，或者重写`readResolve()`方法。

#### 注意事项

1. 原型对象必须具备克隆（或者可拷贝）的方法；
2. 克隆复杂对象或对克隆出的对象进行复杂改造时，容易带来风险；
3. 深克隆、浅克隆要注意区分使用场景